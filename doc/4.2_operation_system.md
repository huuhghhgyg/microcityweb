[< 4.1 SI Overview](4.1_si_overview.md) | [Table of Contents](readme.md) | [4.3 Scene and Object >](4.3_scene_and_object.md)

# 4.2 Operation System

## Browser
- <a id='os.execute' class='anchor'> os.execute(javascript) </a>
Interface to the underlying JavaScript engine. This function will **await eval()** the given JavaScript and return the result as a string.
  - Parameters
<br>`javascript` A string representing a JavaScript expression, statement, or sequence of statements.
  - Return value
<br>The result of the evaluation, as a string.
  - Remark
<br>Dynamically executing javascript can greatly expand the functionality of MicroCity Web. Please note that the Lua engine runs in a web worker, so accessing the DOM requires executing the auxiliary function **RemoteCall**. Here is a simple example: 
<pre><code>os.execute("RemoteCall('alert', 'hello!')")
</code></pre>
A more complex example is to create an application using python's fastapi and call it in MicroCity Web:
<br>First install fastapi: `pip install fastapi uvicorn`
<br>Then create main.py:
<pre><code>from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
app = FastAPI()
app.add_middleware(
  CORSMiddleware,
  allow_origins=['\*'],
  allow_credentials=True,
  allow_methods=['\*'], 
  allow_headers=['\*'], 
)
@app.get("/message")
async def read_message():
  return {"message": "Hello from FastAPI"}
</code></pre>
Execute main.py: `uvicorn main:app --reload`
<br>Finally run the following script in MicroCity Web:
<pre><code>print(os.execute("(async () => (await (await fetch('http://127.0.0.1:8000/message')).json()).message)()"))
</code></pre>
or
<pre><code>print(os.execute("fetch('http://127.0.0.1:8000/message').then(res => res.json()).then(data => data.message)"))
</code></pre>
”Hello from FastAPI“ will be printed out.

- <a id='os.sleep' class='anchor'> os.sleep </a>

<a id='os.getready' class='anchor'> os.getready </a>

<a id='os.upload' class='anchor'> os.upload </a>

<a id='os.download' class='anchor'> os.download </a>

## Debug
<a id='debug.debug' class='anchor'> debug.debug </a>

<a id='debug.pause' class='anchor'> debug.pause </a>

<a id='debug.cont' class='anchor'> debug.cont </a>

<a id='debug.step' class='anchor'> debug.step </a>

<a id='debug.stepi' class='anchor'> debug.stepi </a>

<a id='debug.stepo' class='anchor'> debug.stepo </a>

<a id='debug.watch' class='anchor'> debug.watch </a>

[< 4.1 SI Overview](4.1_si_overview.md) | [Table of Contents](readme.md) | [4.3 Scene and Object >](4.3_scene_and_object.md)